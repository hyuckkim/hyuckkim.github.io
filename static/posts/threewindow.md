---
title: Three-window
img: /assets/three-window.png
date: 2021. 12.
---

[Github](https://github.com/hyuckkim/three-window)

러스트 + Piston gui 기본 구현.

실행하면 #f00, #0f0, #00f를 가진 세 창이 기본 화면에 겹치지 않게 생성된다.  
이 창들은 서로의 좌표를 공유하고 있고, 창끼리 겹치면 겹친 부분에 겹친 색을 출력한다.

창들은 각각 닫을 수 있고, 모든 창이 닫히면 프로세스가 종료된다.

## 사족
당시의 나는 윈도우 창을 가지고 이것저것 하고싶어 하는 욕구가 있었다.
[이전 글](/post/coloring)에서도 그랬고.  
그리고 rust로 뭔가 하고 싶었던 욕구도 있었다.
[러스트 책](https://product.kyobobook.co.kr/detail/S000212236783)도 샀었다.

![tcpcouple](/assets/threewindow-couple.png)

마침 전에 만들어놨던 게 C# wpf로 서로를 가리키게 하는 거였어서,  
_(이쪽은 창을 각자 하나씩 열고,
처음 만들어진 창이 로컬 서버를 만들어서 TCP로 통신한다!
이것도 재미있었다.)_  
러스트를 알게 된 지 얼마 안 된 나는 러스트로 비슷한 걸 만들고 싶었다.

저 wpf 프로그램을 처음 만들면서 async에 대해 처음 알게 됐고,  
rust 프로그래밍 공식 가이드는 async에 대해 설명하지 않았기 때문에
(내가 산 건 2018년 edition이었다)  
나는 thread spawn으로 이걸 다 구현했고
어떻게든 꾸역꾸역 완성하고 컴파일이 잘 돼서 기쁨의 눈물을 흘리며 실행하니까
런타임에서 나오는 에러 메시지  
(피스톤은 네이티브 thread를 지원하지 않음!)

싹다 갈아엎고 다시 만든 추억이 있다.  
고작 이거 만드는 데도 공수가 엄청 걸리는 걸 보니까 그 때 rust에 대한 환상이 깨졌다.
